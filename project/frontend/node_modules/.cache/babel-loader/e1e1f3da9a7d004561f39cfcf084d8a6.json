{"ast":null,"code":"import _slicedToArray from\"/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"../css/RecipeList.scss\";import axios from\"axios\";import svgBaby from\"../img/baby-boy.svg\";import Danger from\"../img/danger.svg\";import Ribbon from\"../img/ribbon-for-an-angle.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RecipeList=function RecipeList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(props.allergies),_useState4=_slicedToArray(_useState3,2),allergies=_useState4[0],setAllergies=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];console.log('rop',props.recipes);function checkAllergy(allRecipes){var safeRecipes=allRecipes.filter(function(recipe){return!recipe.allergens.find(function(allergy){return allergies.includes(allergy);});});return safeRecipes;}useEffect(function(){axios.get('/api/recipes-list/').then(function(res){var safeRecipes=checkAllergy(props.recipes);console.log('safe',safeRecipes);setRecipes(safeRecipes);}).catch(function(err){console.log(err);});},[props]);console.log('recipes',recipes);console.log('allergies',allergies);return/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list__box\",children:recipes.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"list__box__allergies list__box__allergies--\".concat(item.id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"list__box__allergies__img list__box__allergies__img--ribbon\",src:Ribbon,alt:\"ribbon\"}),/*#__PURE__*/_jsx(\"img\",{className:\"list__box__allergies__img\",src:svgBaby,alt:\"baby\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"list__box__allergies__heading\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"list__box__allergies__body\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"list__box__allergies__img list__box__allergies__img--danger\",src:Danger,alt:\"danger\"}),item.allergens.length>0?item.allergens.map(function(allrgy){return/*#__PURE__*/_jsx(\"p\",{children:allrgy});}):/*#__PURE__*/_jsx(\"p\",{children:\"none\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"list__box__allergies__button list__box__allergies__button--\".concat(item.id),children:\"Learn More\"})]});})})});};export default RecipeList;","map":{"version":3,"sources":["/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/src/components/RecipeList.js"],"names":["React","useState","useEffect","axios","RecipeList","props","recipes","setRecipes","allergies","setAllergies","loading","setLoading","console","log","checkAllergy","allRecipes","safeRecipes","filter","recipe","allergens","find","allergy","includes","get","then","res","catch","err","map","item","id","Ribbon","svgBaby","name","Danger","length","allrgy"],"mappings":"kNAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,0NAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5B,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAAkCN,QAAQ,CAACI,KAAK,CAACG,SAAP,CAA1C,yCAAOA,SAAP,eAAkBC,YAAlB,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAIAC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBR,KAAK,CAACC,OAAzB,EACA,QAASQ,CAAAA,YAAT,CAAsBC,UAAtB,CAAkC,CAChC,GAAMC,CAAAA,WAAW,CAAGD,UAAU,CAACE,MAAX,CAAkB,SAAAC,MAAM,QAAI,CAACA,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsB,SAAAC,OAAO,QAAIb,CAAAA,SAAS,CAACc,QAAV,CAAmBD,OAAnB,CAAJ,EAA7B,CAAL,EAAxB,CAApB,CACJ,MAAOL,CAAAA,WAAP,CACC,CAGCd,SAAS,CAAC,UAAM,CACdC,KAAK,CAACoB,GAAN,CAAU,oBAAV,EACDC,IADC,CACI,SAAAC,GAAG,CAAI,CACX,GAAIT,CAAAA,WAAW,CAAGF,YAAY,CAACT,KAAK,CAACC,OAAP,CAA9B,CACAM,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBG,WAApB,EACDT,UAAU,CAACS,WAAD,CAAV,CAEA,CANC,EAODU,KAPC,CAOK,SAAAC,GAAG,CAAI,CACZf,OAAO,CAACC,GAAR,CAAYc,GAAZ,EACD,CATC,EAUD,CAXQ,CAWN,CAACtB,KAAD,CAXM,CAAT,CAYAO,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBP,OAAtB,EACAM,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBL,SAAzB,EAGA,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,SAAS,CAAC,WAAf,UACCF,OAAO,CAACsB,GAAR,CAAY,SAAAC,IAAI,CAAI,CACnB,mBAAO,aAAK,SAAS,sDAAgDA,IAAI,CAACC,EAArD,CAAd,wBACD,YAAK,SAAS,CAAC,6DAAf,CAA6E,GAAG,CAAEC,MAAlF,CAA0F,GAAG,CAAC,QAA9F,EADC,cAED,YAAK,SAAS,CAAC,2BAAf,CAA2C,GAAG,CAAEC,OAAhD,CAAyD,GAAG,CAAC,MAA7D,EAFC,cAGD,WAAI,SAAS,CAAC,+BAAd,UAAgDH,IAAI,CAACI,IAArD,EAHC,cAIA,aAAK,SAAS,CAAC,4BAAf,wBAA6C,YAAK,SAAS,CAAC,6DAAf,CAA6E,GAAG,CAAEC,MAAlF,CAA0F,GAAG,CAAC,QAA9F,EAA7C,CACbL,IAAI,CAACV,SAAL,CAAegB,MAAf,CAAwB,CAAxB,CAA4BN,IAAI,CAACV,SAAL,CAAeS,GAAf,CAAmB,SAAAQ,MAAM,CAAI,CAC1C,mBAAO,mBAAIA,MAAJ,EAAP,CACD,CAFc,CAA5B,cAEkB,2BAHL,GAJA,cAQf,eAAQ,SAAS,sEAAgEP,IAAI,CAACC,EAArE,CAAjB,wBARe,GAAP,CAWD,CAZA,CADD,EADF,EADF,CAmBD,CAjDD,CAmDA,cAAe1B,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../css/RecipeList.scss\";\nimport axios from \"axios\";\nimport svgBaby from '../img/baby-boy.svg';\nimport Danger from '../img/danger.svg';\nimport Ribbon from '../img/ribbon-for-an-angle.svg';\n\nconst RecipeList = (props) => {\n  const [recipes, setRecipes] = useState([]);\n  const [allergies, setAllergies] = useState(props.allergies);\n  const [loading, setLoading] = useState(true)\n\n\n  \n  console.log('rop', props.recipes)\n  function checkAllergy(allRecipes) {\n    const safeRecipes = allRecipes.filter(recipe => !recipe.allergens.find(allergy => allergies.includes(allergy) ));\nreturn safeRecipes\n}\n\n\n  useEffect(() => {\n    axios.get('/api/recipes-list/')\n  .then(res => {\n    let safeRecipes = checkAllergy(props.recipes)\n    console.log('safe', safeRecipes)\n   setRecipes(safeRecipes)\n   \n  })\n  .catch(err => {\n    console.log(err)\n  })\n  }, [props])\n  console.log('recipes',recipes)\n  console.log('allergies', allergies)\n\n\n  return (\n    <div className=\"list\">\n      <div className=\"list__box\">\n      {recipes.map(item => {\n        return <div className={`list__box__allergies list__box__allergies--${item.id}`}>\n              <img className=\"list__box__allergies__img list__box__allergies__img--ribbon\" src={Ribbon} alt=\"ribbon\" />\n              <img className=\"list__box__allergies__img\" src={svgBaby} alt=\"baby\" />\n              <h3 className=\"list__box__allergies__heading\" >{item.name}</h3>\n               <div className=\"list__box__allergies__body\" ><img className=\"list__box__allergies__img list__box__allergies__img--danger\" src={Danger} alt=\"danger\" />\n{ item.allergens.length > 0 ? item.allergens.map(allrgy => {\n                 return <p>{allrgy}</p>\n               }) : <p>none</p>}</div>\n<button className={`list__box__allergies__button list__box__allergies__button--${item.id}`} >Learn More</button>\n               </div>\n               \n      })}\n      </div>\n    </div>\n  );\n};\n\nexport default RecipeList;\n"]},"metadata":{},"sourceType":"module"}