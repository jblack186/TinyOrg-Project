{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import{Route,useHistory}from\"react-router-dom\";import React,{useState,useEffect}from\"react\";import Header from'./components/Header';import Announcebar from'./components/Announcebar';import RecipeForm from'./components/RecipeForm';import RecipeList from'./components/RecipeList';import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),childFirstName=_useState10[0],setChildFirstName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),childLastName=_useState12[0],setChildLastName=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),allergies=_useState14[0],setAllergies=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),allergenList=_useState16[0],setAllergenList=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoading=_useState18[0],setIsLoading=_useState18[1];var _useState19=useState(['milk']),_useState20=_slicedToArray(_useState19,2),tempAllergies=_useState20[0],setTempAllergies=_useState20[1];var history=useHistory();var getAllergies=function getAllergies(){axios.get('https://60f5adf918254c00176dffc8.mockapi.io/api/v1/allergens/').then(function(res){res.data.forEach(function(item){setAllergenList(function(allergenList){return[].concat(_toConsumableArray(allergenList),[/*#__PURE__*/_jsx(\"option\",{value:item.name,children:item.name})]);});});});};useEffect(function(){getAllergies();},[]);var getRecipes=function getRecipes(){axios.get('https://60f5adf918254c00176dffc8.mockapi.io/api/v1/recipes/').then(function(res){setRecipes(res.data);});};var sendRecipes=function sendRecipes(){axios.post('/api/recipes-list/',{recipes:recipes}).then(function(res){console.log(res);}).catch(function(err){console.log(err);});};useEffect(function(){getRecipes();},[]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var newCustomer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();// sendRecipes();\nnewCustomer={first_name:firstName,last_name:lastName,email:email,child_first_name:childFirstName,child_last_name:childLastName,allergies:allergies.join(',')};_context.next=4;return axios.post(\"/api/customers/\",newCustomer).then(function(res){console.log(res);history.push('/recipes');}).catch(function(err){console.log(err);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();console.log(recipes);var newCustomerForm=/*#__PURE__*/_jsxs(\"form\",{className:\"form__content__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"*First Name\",/*#__PURE__*/_jsx(\"input\",{name:\"first name\",type:\"name\",value:firstName,onChange:function onChange(e){return setFirstName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"*Last Name\",/*#__PURE__*/_jsx(\"input\",{name:\"last name\",type:\"name\",value:lastName,onChange:function onChange(e){return setLastName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"*Email\",/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"*Child First Name\",/*#__PURE__*/_jsx(\"input\",{name:\"child first name\",type:\"name\",value:childFirstName,onChange:function onChange(e){return setChildFirstName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"*Child Last Name\",/*#__PURE__*/_jsx(\"input\",{name:\"child last name\",type:\"name\",value:childLastName,onChange:function onChange(e){return setChildLastName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"What allergies does your child have?\",/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setAllergies(function(allergies){return[].concat(_toConsumableArray(allergies),[e.target.value]);});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",selected:true,disabled:true,hidden:true,children:\"Select an Option\"}),allergenList]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Show Recipes\"})]});// checking selected allergens on filter\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"container__header\",children:[/*#__PURE__*/_jsx(Announcebar,{}),/*#__PURE__*/_jsx(Header,{})]}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/_jsx(RecipeForm,{handleSubmit:handleSubmit,firstName:firstName,lastName:lastName,email:email,childFirstName:childFirstName,childLastName:childLastName,allergies:allergies,allergenList:setAllergenList,newCustomerForm:newCustomerForm});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/recipes\",render:function render(props){return/*#__PURE__*/_jsx(RecipeList,{recipes:recipes,allergies:allergies});}})]});}export default App;","map":{"version":3,"sources":["/Users/jamie/Documents/Tiny Organics Project/TinyOrganic-Deploy/to-project/project/frontend/src/App.js"],"names":["Route","useHistory","React","useState","useEffect","Header","Announcebar","RecipeForm","RecipeList","axios","Link","App","recipes","setRecipes","firstName","setFirstName","lastName","setLastName","email","setEmail","childFirstName","setChildFirstName","childLastName","setChildLastName","allergies","setAllergies","allergenList","setAllergenList","isLoading","setIsLoading","tempAllergies","setTempAllergies","history","getAllergies","get","then","res","data","forEach","item","name","getRecipes","sendRecipes","post","console","log","catch","err","handleSubmit","event","preventDefault","newCustomer","first_name","last_name","child_first_name","child_last_name","join","push","newCustomerForm","e","target","value","props"],"mappings":"60BAAA,MAAO,WAAP,CACA,OAASA,KAAT,CAAgBC,UAAhB,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAIA,QAASC,CAAAA,GAAT,EAAe,CACb,cAA8BR,QAAQ,CAAC,EAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAAkCV,QAAQ,CAAC,EAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eACA,eAAgCZ,QAAQ,CAAC,EAAD,CAAxC,yCAAOa,QAAP,eAAiBC,WAAjB,eACA,eAA0Bd,QAAQ,CAAC,EAAD,CAAlC,yCAAOe,KAAP,eAAcC,QAAd,eACA,eAA4ChB,QAAQ,CAAC,EAAD,CAApD,0CAAOiB,cAAP,gBAAuBC,iBAAvB,gBACA,gBAA0ClB,QAAQ,CAAC,EAAD,CAAlD,2CAAOmB,aAAP,gBAAsBC,gBAAtB,gBACA,gBAAkCpB,QAAQ,CAAC,EAAD,CAA1C,2CAAOqB,SAAP,gBAAkBC,YAAlB,gBACA,gBAAwCtB,QAAQ,CAAC,EAAD,CAAhD,2CAAOuB,YAAP,gBAAqBC,eAArB,gBACA,gBAAkCxB,QAAQ,CAAC,KAAD,CAA1C,2CAAOyB,SAAP,gBAAkBC,YAAlB,gBACA,gBAA0C1B,QAAQ,CAAC,CAAC,MAAD,CAAD,CAAlD,2CAAO2B,aAAP,gBAAsBC,gBAAtB,gBAEA,GAAMC,CAAAA,OAAO,CAAG/B,UAAU,EAA1B,CAEA,GAAMgC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAO,CAC1BxB,KAAK,CAACyB,GAAN,CAAU,+DAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACXA,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiB,SAAAC,IAAI,CAAI,CACxBZ,eAAe,CAAC,SAAAD,YAAY,qCAAQA,YAAR,gBAAsB,eAAQ,KAAK,CAAEa,IAAI,CAACC,IAApB,UAA6BD,IAAI,CAACC,IAAlC,EAAtB,IAAb,CAAf,CAEA,CAHD,EAKH,CAPC,EAQD,CATD,CAWApC,SAAS,CAAC,UAAM,CAEd6B,YAAY,GAGb,CALQ,CAKN,EALM,CAAT,CAQF,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAO,CACxBhC,KAAK,CAACyB,GAAN,CAAU,6DAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACXvB,UAAU,CAACuB,GAAG,CAACC,IAAL,CAAV,CAEH,CAJC,EAKD,CAND,CAOA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC1BjC,KAAK,CAACkC,IAAN,CAAW,oBAAX,CAAiC,CAAC/B,OAAO,CAAEA,OAAV,CAAjC,EACGuB,IADH,CACQ,SAAAC,GAAG,CAAI,CACXQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,EACD,CAHH,EAIGU,KAJH,CAIS,SAAAC,GAAG,CAAI,CACZH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACD,CANH,EAOC,CARD,CAUA3C,SAAS,CAAC,UAAM,CAGdqC,UAAU,GAGX,CANQ,CAMN,EANM,CAAT,CAUA,GAAMO,CAAAA,YAAY,0FAAG,iBAAOC,KAAP,kIACnBA,KAAK,CAACC,cAAN,GACA;AACIC,WAHe,CAGA,CACjBC,UAAU,CAAEtC,SADK,CAEjBuC,SAAS,CAAErC,QAFM,CAGjBE,KAAK,CAAEA,KAHU,CAIjBoC,gBAAgB,CAAElC,cAJD,CAKjBmC,eAAe,CAAEjC,aALA,CAMjBE,SAAS,CAAEA,SAAS,CAACgC,IAAV,CAAe,GAAf,CANM,CAHA,uBAWb/C,CAAAA,KAAK,CACRkC,IADG,CACE,iBADF,CACqBQ,WADrB,EAEHhB,IAFG,CAEE,SAACC,GAAD,CAAS,CACbQ,OAAO,CAACC,GAAR,CAAYT,GAAZ,EACAJ,OAAO,CAACyB,IAAR,CAAa,UAAb,EACD,CALG,EAMDX,KANC,CAMK,SAACC,GAAD,CAAS,CACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACD,CARC,CAXa,uDAAH,kBAAZC,CAAAA,YAAY,4CAAlB,CAsBAJ,OAAO,CAACC,GAAR,CAAYjC,OAAZ,EAEA,GAAM8C,CAAAA,eAAe,cAAG,cAAM,SAAS,CAAC,qBAAhB,CAAsC,QAAQ,CAAEV,YAAhD,wBACxB,oDAEE,cACE,IAAI,CAAC,YADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAElC,SAHT,CAIE,QAAQ,CAAE,kBAAC6C,CAAD,QAAO5C,CAAAA,YAAY,CAAC4C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB,EAJZ,CAKE,QAAQ,KALV,EAFF,GADwB,cAYxB,mDAEE,cACE,IAAI,CAAC,WADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAE7C,QAHT,CAIE,QAAQ,CAAE,kBAAC2C,CAAD,QAAO1C,CAAAA,WAAW,CAAC0C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAJZ,CAKE,QAAQ,KALV,EAFF,GAZwB,cAsBxB,+CAEE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAE3C,KAHT,CAIE,QAAQ,CAAE,kBAACyC,CAAD,QAAOxC,CAAAA,QAAQ,CAACwC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAJZ,CAKE,QAAQ,KALV,EAFF,GAtBwB,cAkCxB,0DAEE,cACE,IAAI,CAAC,kBADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEzC,cAHT,CAIE,QAAQ,CAAE,kBAACuC,CAAD,QAAOtC,CAAAA,iBAAiB,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxB,EAJZ,CAKE,QAAQ,KALV,EAFF,GAlCwB,cA4CxB,yDAEE,cACE,IAAI,CAAC,iBADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEvC,aAHT,CAIE,QAAQ,CAAE,kBAACqC,CAAD,QAAOpC,CAAAA,gBAAgB,CAACoC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,EAJZ,CAKE,QAAQ,KALV,EAFF,GA5CwB,cAsDxB,6EAEA,gBAAQ,QAAQ,CAAE,kBAACF,CAAD,CAAM,CAAC,MAAQlC,CAAAA,YAAY,CAAC,SAAAD,SAAS,qCAAQA,SAAR,GAAmBmC,CAAC,CAACC,MAAF,CAASC,KAA5B,IAAV,CAApB,CAAoE,CAA7F,wBACA,eAAQ,KAAK,CAAC,MAAd,CAAqB,QAAQ,KAA7B,CAA8B,QAAQ,KAAtC,CAAuC,MAAM,KAA7C,8BADA,CAICnC,YAJD,GAFA,GAtDwB,cA+DtB,eAAQ,IAAI,CAAC,QAAb,0BA/DsB,GAAxB,CAoEA;AAEE,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,gBAAQ,SAAS,CAAC,mBAAlB,wBACA,KAAC,WAAD,IADA,cAEA,KAAC,MAAD,IAFA,GADF,cAKE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGE,MAAM,CAAE,gBAACoC,KAAD,CAAW,CACjB,mBAAO,KAAC,UAAD,EAAY,YAAY,CAAEd,YAA1B,CAAwC,SAAS,CAAElC,SAAnD,CAA8D,QAAQ,CAAEE,QAAxE,CAAkF,KAAK,CAAEE,KAAzF,CAAgG,cAAc,CAAEE,cAAhH,CAAgI,aAAa,CAAEE,aAA/I,CAA8J,SAAS,CAAEE,SAAzK,CAAoL,YAAY,CAAEG,eAAlM,CAAmN,eAAe,CAAE+B,eAApO,EAAP,CAED,CANH,EALF,cAaE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,UAFP,CAGE,MAAM,CAAE,gBAACI,KAAD,CAAW,CACjB,mBAAO,KAAC,UAAD,EAAY,OAAO,CAAElD,OAArB,CAA8B,SAAS,CAAEY,SAAzC,EAAP,CACD,CALH,EAbF,GADF,CAyBD,CAED,cAAeb,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport { Route, useHistory } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from './components/Header';\nimport Announcebar from './components/Announcebar'\nimport RecipeForm from './components/RecipeForm';\nimport RecipeList from './components/RecipeList';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\n\n\nfunction App() {\n  const [recipes, setRecipes] = useState([]);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [childFirstName, setChildFirstName] = useState(\"\");\n  const [childLastName, setChildLastName] = useState(\"\");\n  const [allergies, setAllergies] = useState([]);\n  const [allergenList, setAllergenList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [tempAllergies, setTempAllergies] = useState(['milk']);\n\n  const history = useHistory();\n\n  const getAllergies = () =>  {\n    axios.get('https://60f5adf918254c00176dffc8.mockapi.io/api/v1/allergens/')\n    .then(res => {\n      res.data.forEach(item => {\n       setAllergenList(allergenList => [...allergenList, <option value={item.name}  >{item.name}</option>])\n  \n      })\n  \n  })\n  }\n  \n  useEffect(() => {\n  \n    getAllergies();\n    \n  \n  }, [])\n  \n\nconst getRecipes = () =>  {\n  axios.get('https://60f5adf918254c00176dffc8.mockapi.io/api/v1/recipes/')\n  .then(res => {\n    setRecipes(res.data)\n\n})\n}\nconst sendRecipes = () => {\naxios.post('/api/recipes-list/', {recipes: recipes})\n  .then(res => {\n    console.log(res)\n  })\n  .catch(err => {\n    console.log(err)\n  })\n}\n\nuseEffect(() => {\n  \n\n  getRecipes();\n\n\n}, [])\n\n\n\nconst handleSubmit = async (event) => {\n  event.preventDefault();\n  // sendRecipes();\n  let newCustomer =  {\n    first_name: firstName,\n    last_name: lastName,\n    email: email,\n    child_first_name: childFirstName,\n    child_last_name: childLastName,\n    allergies: allergies.join(',')\n  }\n  await axios\n    .post(\"/api/customers/\", newCustomer)\n    .then((res) => {\n      console.log(res)\n      history.push('/recipes')\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n\n}\nconsole.log(recipes)\n\nconst newCustomerForm = <form className=\"form__content__form\" onSubmit={handleSubmit}>\n<label>\n  *First Name\n  <input\n    name=\"first name\"\n    type=\"name\"\n    value={firstName}\n    onChange={(e) => setFirstName(e.target.value)}\n    required\n  />\n</label>\n\n<label>\n  *Last Name\n  <input\n    name=\"last name\"\n    type=\"name\"\n    value={lastName}\n    onChange={(e) => setLastName(e.target.value)}\n    required\n  />\n</label>\n<label>\n  *Email\n  <input\n    name=\"email\"\n    type=\"email\"\n    value={email}\n    onChange={(e) => setEmail(e.target.value)}\n    required\n\n  />\n</label>\n\n<label>\n  *Child First Name\n  <input\n    name=\"child first name\"\n    type=\"name\"\n    value={childFirstName}\n    onChange={(e) => setChildFirstName(e.target.value)}\n    required\n  />\n</label>\n<label>\n  *Child Last Name\n  <input\n    name=\"child last name\"\n    type=\"name\"\n    value={childLastName}\n    onChange={(e) => setChildLastName(e.target.value)}\n    required\n  />\n</label>\n<label>\nWhat allergies does your child have? \n<select onChange={(e) =>{return  setAllergies(allergies => [...allergies, e.target.value] ) }}>\n<option value=\"none\" selected disabled hidden>\n          Select an Option\n      </option>\n{allergenList}\n  </select>\n  </label>\n  <button type=\"submit\">Show Recipes</button>\n</form>\n\n\n\n// checking selected allergens on filter\n\n  return (\n    <div className=\"container\">\n      <header className=\"container__header\">\n      <Announcebar />\n      <Header />\n      </header>\n      <Route\n        exact\n        path=\"/\"\n        render={(props) => {\n          return <RecipeForm handleSubmit={handleSubmit} firstName={firstName} lastName={lastName} email={email} childFirstName={childFirstName} childLastName={childLastName} allergies={allergies} allergenList={setAllergenList} newCustomerForm={newCustomerForm} />\n          ;\n        }}\n      />\n      <Route\n        exact\n        path=\"/recipes\"\n        render={(props) => {\n          return <RecipeList recipes={recipes} allergies={allergies}/>;\n        }}\n      />\n\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}